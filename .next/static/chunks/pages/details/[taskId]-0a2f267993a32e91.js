(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{860:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/details/[taskId]",function(){return c(9492)}])},9492:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSG":function(){return l}});var d=c(7568),e=c(4051),f=c.n(e),g=c(5893),h=c(7294),i=c(1163),j=c(2920),k=function(a){var b,c,e=(0,i.useRouter)(),k=a.data,l=(0,h.useRef)(null),m=function(){return e.push("/")};(0,d.Z)(f().mark(function a(b){var c,d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/details/".concat(b),{method:"PUT"});case 2:return c=a.sent,a.next=5,c.json();case 5:d=a.sent;case 6:case"end":return a.stop()}},a)}));var n=(c=(0,d.Z)(f().mark(function a(b){var c,d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("/api/task/".concat(b),{method:"DELETE"});case 3:return c=a.sent,a.next=6,c.json();case 6:d=a.sent,j.Am.success(d.message),e.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),j.Am.error("Something went wrong!");case 14:case"end":return a.stop()}},a,null,[[0,11]])})),function(a){return c.apply(this,arguments)}),o=function(){return l.current.classList.toggle("showModal")};return(0,g.jsxs)("div",{className:"main__container",children:[(0,g.jsx)("div",{className:"back__btn",children:(0,g.jsx)("h6",{onClick:m,children:" Go Back"})}),(0,g.jsx)("div",{className:"task__details-header",children:(0,g.jsxs)("div",{className:"details__btns",children:[(0,g.jsx)("button",{className:"edit__btn",onClick:function(){return e.push("/edit/".concat(k.id))},children:"Edit"}),(0,g.jsx)("div",{className:"delete__modal",ref:l,children:(0,g.jsxs)("div",{className:"modal",children:[(0,g.jsx)("h3",{children:"Confirm Deletion"}),(0,g.jsxs)("p",{children:["Are you sure you want to delete the Task details #",k.id.substr(0,6).toUpperCase(),"? This action cannon be undone."]}),(0,g.jsxs)("div",{className:"details__btns modal__btns",children:[(0,g.jsx)("button",{className:"edit__btn",onClick:o,children:"Cancel"}),(0,g.jsx)("button",{className:"delete__btn",onClick:function(){return n(k.id)},children:"Confirm"})]})]})}),(0,g.jsx)("button",{className:"delete__btn",onClick:o,children:"Delete"})]})}),(0,g.jsx)("div",{className:"task__details",children:(0,g.jsx)("div",{className:"details__box",children:(0,g.jsxs)("div",{className:"task__client-address",children:[(0,g.jsx)("p",{children:"Details"}),(0,g.jsxs)("h4",{children:[(0,g.jsx)("strong",{children:"Resource Name:"})," ",k.resourceName]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Job code:"})," ",k.jobCode]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Task Description:"})," ",k.taskDescription]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Start Date:"})," ",k.createdAt]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"End Date:"})," ",k.createdEt]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Status:"})," ",k.statusDetails]})]})})})]})},l=!0;b.default=k},1163:function(a,b,c){a.exports=c(387)},7568:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}c.d(b,{Z:function(){return e}})}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=860)}),_N_E=a.O()}])